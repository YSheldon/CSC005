---
layout: post
title: ?Another day, another Intel CPU security hole: Lazy State
date: 2018-06-14 01:00:59
tourl: /article/another-day-another-intel-cpu-security-hole-lazy-state/
tags: [exploit]
---
从前，当我们担心安全问题时，我们担心我们的软件。现在，它是我们的硬件，我们的CPU，像它的祖先一样有问题，这是一个推测执行漏洞。在一次采访中，该漏洞存在，因为现代CPU包括许多寄存器（内部存储器），它们代表每个运行的应用程序的状态。在从一个应用程序切换到另一个应用程序时需要保存和恢复该状态。作为性能优化，这可能是“懒洋洋地”（即当需要时），这就是问题隐藏的地方。此漏洞利用“惰性状态恢复”允许攻击者获取有关其他应用程序的活动的信息，包括加密操作。因此，使用英特尔核心微处理器的系统，从沙迪桥到当今最新的处理器，可以允许本地进程通过一个推测执行侧信道从另一个进程使用懒惰浮点状态恢复来推断数据。因此，在这个最新的漏洞中，一个进程可以读取其他进程的浮点寄存器。其他被认为是安全的操作系统是使用2016 Linux 4.9或更新内核的任何Linux版本。Linux内核开发人员正在修补旧内核。大多数版本的Windows，包括服务器2016和Windows 10。被认为是安全的。如果你仍然使用Windows Server 2008，但是，你需要一个补丁。最新版本的好消息，根据大师：“影响是温和的，因为重要的是要解决，很难开发和容易修复。”更好的是，大师说，“修复会提高性能！”不像以前的CPU安全漏洞，减轻它不需要微码更新。在大多数情况下，RHEL 7的客户将不需要采取行动。RHEL 5和6用户将需要修补他们的服务器。这个安全问题是由Julian Stecklina从亚马逊德国，Thomas Prescher从SO发现的，而不是一个严重的问题，它是一个真正的问题。如果你的系统不免疫，请尽快修补它。
Once upon a time, when we worried about security, we worried about our software. These days, it's our hardware, our CPUs, with problems like Like its forebears, this is a speculative execution vulnerability. In an interview, This vulnerability exists because modern CPUs include many registers (internal memory) that represent the state of each running application. Saving and restoring this state when switching from one application to another takes time. As a performance optimization, this may be done "lazily" (i.e., when needed) and that is where the problem hides. This vulnerability exploits "lazy state restore" by allowing an attacker to obtain information about the activity of other applications, including encryption operations. Thus, systems using Intel Core-based microprocessors, from Sandy Bridge on to today's newest processors, may allow a local process to infer data using lazy floating point state restore from another process through a speculative-execution side channel. So, in this latest vulnerability, one process can read the floating point registers of other processes being lazily restored.For some operating systems, the fix is already in. Other operating systems believed to be safe are any Linux version using the 2016's Linux 4.9 or newer kernel. The Linux kernel developers are patching older kernels. Most versions of Windows, including Server 2016 and Windows 10. are believed to be safe. If you're still using Windows Server 2008, however, you will need a patch. The latest editions of The good news, according to Masters: "Impact is moderate because while it's important to address, it's hard to exploit and easy to fix."Better still, Masters said, "the fix will improve performance!"Unlike the previous CPU security bugs, mitigating it will not require microcode updates. In most cases, RHEL 7 customers will not need to take action. RHEL 5 and 6 users will need to patch their servers.This security problem was found by Julian Stecklina from Amazon Germany, Thomas Prescher from So, while not a serious problem, it is a real one. If your system isn't immune, patch it as soon as possible. 