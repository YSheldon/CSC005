---
layout: post
title: Windows 10 Cumulative Updates KB4340917, KB4338817 and KB4338827 Released
date: 2018-07-24 13:02:11
tourl: https://www.bleepingcomputer.com/news/microsoft/windows-10-cumulative-updates-kb4340917-kb4338817-and-kb4338827-released/
tags: [Group,PowerShell]
---
Microsoft has released a new patch for systems running the Windows 10 April 2018 Update (version 1803), Windows 10 Fall Creators Update (version 1709), and Windows 10 Creators Update (version 1703).To install this update you can go to If you're on Windows 10 April 2018 Update, you'll get KB4340917 contains the following fixes:Addresses an issue that causes devices within Active Directory or Hybrid AADJ++ domains to unexpectedly unenroll from Microsoft Intune or third-party MDM services after installing provisioning package updates (PPKG). This issue occurs on devices that are subject to the Auto MDM Enrollment with AAD Token Group Policy. If you ran the script Disable-AutoEnrollMDMCSE.PS1 as a workaround for this issue, run Enable-AutoEnrollMDMCSE.PS1 from a PowerShell window in Administrator mode after installing this update.Addresses additional issues with updated time zone information.Improves the ability of the Universal CRT Ctype family of functions to handle EOF as valid input.Addresses an issue with registration in the "Push to Install" service.Addresses an issue with Roaming User Profiles where the AppDataLocal and AppDataLocallow folders are incorrectly synchronized at user logon and logoff. For more information, see KB4340390.Addresses issues related to peripherals that use Quality of Service (QoS) parameters for Bluetooth connections.Addresses an issue that causes SQL Server memory usage to grow over time when encrypting data using a symmetric key that has a certificate. Then, you execute queries that open and close the symmetric key in a recursive loop.Addresses an issue where using an invalid password in a wireless PEAP environment that has SSO enabled submits two authentication requests with the invalid password. The excess authentication request may cause premature account lockouts in environments with low account lockout thresholds. To enable the changes, add the new registry key DisableAuthRetry (Dword) on HKEY_LOCAL_MACHINESYSTEMCurrentControlSetServicesRasManPPPEAP26 using regedit, and set it to 1.Addresses an issue that prevents OpenType fonts from printing in Win32 applications.Addresses an issue with DNS Response Rate Limiting that causes a memory leak when enabled with LogOnly mode.Addresses an issue in a RemoteApp session that may result in a black screen when maximizing an app window on a secondary monitor.Addresses an issue in IME that causes unexpected finalization of strings during Japanese input in applications such as Microsoft Outlook.If you're on Windows 10 Fall Creators Update, you'll get It contains the following fixes:Addresses an issue that causes devices within Active Directory or Hybrid AADJ++ domains to unexpectedly unenroll from Microsoft Intune or third-party MDM services after installing provisioning package updates (PPKG). This issue occurs on devices that are subject to the Auto MDM Enrollment with AAD Token Group Policy. If you ran the script Disable-AutoEnrollMDMCSE.PS1 as a workaround for this issue, run Enable-AutoEnrollMDMCSE.PS1 from a PowerShell window running in Administrator mode after installing this update.Inserts a CR before LF if there was none.Enables debugging of WebView content in UWP apps using the Microsoft Edge DevTools Preview app available in the Microsoft App Store.Addresses an issue in which Microsoft Edge DevTools becomes unresponsive when the console is flooded with messages.Addresses an issue that causes a black screen to appear for several minutes after installing Windows updates before going to the desktop.Addresses additional issues with updated time zone information.Improves the PDF file experience in Microsoft Edge by addressing PDF file open, print, and reliability issues.Addresses an issue in which moving a Microsoft Foundation Class (MFC) application window might leave behind a dithered pattern on the desktop.Addresses an issue that causes power options to appear on the Windows security screen even when the per-user Group Policy to hide power options is set.Addresses an issue in which the correct lock screen image won't show when all of the following are true:GPO policy Computer ConfigurationAdministrative TemplatesControl PanelPersonalizationForce a specific default lock screen and logon image is enabled.GPO policy "Computer ConfigurationAdministrative TemplatesControl PanelPersonalizationPrevent changing lock screen and logon image" is enabledRegistry key HKEY_LOCAL_MACHINESOFTWAREPoliciesMicrosoftWindowsSystemDisableLogonBackgroundImage is set to 1.Addresses an issue in which a warning appears stating that the application is from an unknown publisher when running an application as an elevated user (Administrator).Addresses an issue that causes sporadic authentication issues when using Web Account Manager.Addresses an issue that sometimes causes the single-sign-on scenario to fail and presents the the logon tile when connecting to a Remote Desktop server.Addresses an issue in which the memory usage of LSASS continues to grow until it is necessary to restart the system.Addresses an issue in which the default domain for an Azure Active Directory-joined machine is not set on the logon screen automatically.Addresses an issue that causes SQL Server memory usage to grow over time when encrypting data using a symmetric key that has a certificate. Then, you execute queries that open and close the symmetric key in a recursive loop.Addresses an issue in which using an invalid password in a wireless PEAP environment that has SSO enabled causes the submission of two authentication requests with the invalid password. The excess authentication request may cause premature account lockouts in environments with low account lockout thresholds. To enable the changes, add the new registry key, DisableAuthRetry (Dword) on HKEY_LOCAL_MACHINESYSTEMCurrentControlSetServicesRasManPPPEAP26 using regedit, and set it to 1.Addresses an issue that may cause the BITS service to become unresponsive when the service cannot connect to Internet resources.Addresses an issue that prevents printing on a 64-bit OS when 32-bit applications impersonate other users (typically by calling LogonUser). This issue occurs after installing monthly updates starting with KB4034681, released in August 2017. To resolve the issue for the affected applications, install this update, and then do one of the following:Use Microsoft Application Compatibility Toolkit to globally enable the Splwow64Compat App Compat Shim.Use the following registry setting, and then restart the 32-bit application: HKEY_LOCAL_MACHINESystemCurrentControlSetControlPrint Setting: Splwow64CompatType: DWORDValue1: 1Addresses an issue with DNS Response Rate Limiting that causes a memory leak when enabled with LogOnly mode.Addresses an issue that sometime prevents a system from shutting down or being placed in Hibernation. This issue occurs on the first boot after performing disk encryption on an SSD drive.Addresses an issue that prevents access to SMB shares using IP addresses if SMB hardening is enabled.Addresses an issue in which using mandatory (read-only) user profiles for RDP might result in the error code, "Class not registered (0x80040151)".Addresses an issue in which not all network printers are connected after a user logs on. The HKEY_USERSUserPrintersConnections Key shows the correct network printers for the affected user. However, the list of network printers from this registry key is not populated in any app, including Microsoft Notepad or Devices and Printers. Printers may disappear or become non-functional.Addresses an issue that causes in-place upgrades to Windows 10 version 1709 to stop responding at the Making sure youre ready to install screen. This occurs while performing device inventory on devices that have installed monthly updates since April 2018.Note WSUS can also deliver Dynamic Updates (DU) to devices when configured to sync Dynamic Update content. Verify that Dynamic Updates havent been disabled by the /DynamicUpdate Disable setup switch.Addresses a rendering issue that occurs while dynamically modifying the classname or ID of elements on a page.Addresses an issue that prevents Memory Analyzer and Performance Analyzer from working properly in Microsoft Internet Explorer 11 Developer Tools.If you're still on old Windows 10 Creators Update, you'll getAddresses additional issues with updated time zone information.Changes the music metadata service provider used by Windows Media Player.Addresses an issue in which some characters were not rendered correctly using the Meiryo font in vertical writing mode.Addresses an issue that may cause the operating system to stop responding when transitioning from Sleep to Hibernation.Addresses an issue in which the memory usage of LSASS continues to grow until it is necessary to restart the system.Addresses an issue that may cause dual-signed files to report a failure when they should report success. This occurs when running Windows Defender Application Control in audit mode.Addresses an issue that causes SQL Server memory usage to grow over time when encrypting data using a symmetric key that has a certificate. Then, you execute queries that open and close the symmetric key in a recursive loop.Addresses an issue that prevents printing on a 64-bit OS when 32-bit applications impersonate other users (typically by calling LogonUser). This issue occurs after installing monthly updates starting with KB4034681, released in August 2017. To resolve the issue for the affected applications, install this update, and then do one of the following:Use Microsoft Application Compatibility Toolkit to globally enable the Splwow64Compat App Compat Shim.Use the following registry setting, and then restart the 32-bit application: HKEY_LOCAL_MACHINESystemCurrentControlSetControlPrint Setting: Splwow64CompatType: DWORDValue1: 1Addresses an issue in which Wi-Fi credentials must be entered each time a device restarts and tries to reconnect to Wi-Fi using Group Policy-distributed Preferred Network Profiles.Addresses an issue in which using an invalid password in a wireless PEAP environment that has SSO enabled causes the submission of two authentication requests with the invalid password. The excess authentication request may cause premature account lockouts in environments with low account lockout thresholds. To enable the changes, add the new registry key, DisableAuthRetry (Dword) on HKEY_LOCAL_MACHINESYSTEMCurrentControlSetServicesRasManPPPEAP26 using regedit, and set it to 1.Addresses an issue in which Wi-Fi credentials must be entered each time a device restarts and tries to reconnect to Wi-Fi using Group Policy-distributed Preferred Network Profiles.Addresses an issue in which not all network printers are connected after a user logs on. The HKEY_USERSUserPrintersConnections Keyshows the correct network printers for the affected user. However, the list of network printers from this registry key is not populated in any app, including Microsoft Notepad or Devices and Printers. Printers may disappear or become non-functional.Microsoft is not aware of any installation issues and all Windows 10 systems should be able to install the patches correctly.